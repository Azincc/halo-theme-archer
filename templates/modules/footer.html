<footer th:fragment="footer" class="footer footer-unloaded">
  <!-- social -->
  <div class="social" th:if="${not #lists.isEmpty(theme.config.profile.social)}">
    <a th:each="social : ${theme.config.profile.social}"
       th:href="${social.url}"
       th:class="|iconfont-archer ${social.name}|"
       th:title="${social.name}"
       target="_blank"
       rel="noopener noreferrer"></a>
  </div>

  <!-- powered by -->
  <div class="copyright">
    <span id="hexo-power">Powered by <a href="https://halo.run/" target="_blank"
                                        rel="noopener noreferrer">Halo</a></span>
    <span class="iconfont-archer power">&#xe635;</span>
    <span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank"
                                   rel="noopener noreferrer">Archer</a></span>
  </div>

  <!-- website approve for Chinese user -->
  <div class="website-approve" th:if="${theme.config.other.website_approve?.enable == true}">
    <span id="icp-approve" class="icp-approve"
          th:if="${not #strings.isEmpty(theme.config.other.website_approve.icp_approve)}">
      <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer"
         th:text="${theme.config.other.website_approve.icp_approve}"></a>
    </span>
    <th:block
      th:if="${not #strings.isEmpty(theme.config.other.website_approve.beian_approve) and not #strings.isEmpty(theme.config.other.website_approve.beian_img)}">
      <img class="beian-img" th:src="${theme.config.other.website_approve.beian_img}" />
      <span id="beian-approve" class="beian-approve">
        <a
          th:href="|http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=${theme.config.other.website_approve.beian_approve}|"
          target="_blank"
          rel="noopener noreferrer"
          th:text="|京公网安备${theme.config.other.website_approve.beian_approve}号|"></a>
      </span>
    </th:block>
  </div>

  <!-- busuanzi -->
  <div class="busuanzi-container" th:if="${theme.config.analytics?.busuanzi?.enable == true}"
       th:with="stats = ${siteStatsFinder.getStats()}">
    <th:block th:with="busuanziSlug=${theme.config.analytics.busuanzi?.slug ?: '本站访客数${count}人次'},
                       sloganPieces=${#strings.arraySplit(busuanziSlug, '${count}')}">
      <span id="busuanzi_container_site_pv">
        <span th:text="${sloganPieces[0]}"></span><span th:text="${stats.visit}"></span><span
        th:text="${#arrays.length(sloganPieces) > 1 ? sloganPieces[1] : ''}"></span></span>
      </span>
    </th:block>
  </div>
</footer>
